doctype html

mat-sidenav-container
  mat-sidenav(position="end", #filter, [mode]="device.isMobile() ? 'over' : 'side'", [fixedInViewport]="device.isMobile()",  [opened]="true")
    form([formGroup]="form", (ngSubmit)="submit()")
      .form-field
        label Dates
        .dates
          input(matInput, type="text", 
            (dateChange)="form.get('dateFrom').setValue(toDateISO($event.value)+'')",
            [matDatepicker]="dateFromEl",
            [value]="form.get('dateFrom').value",
            (click)="dateFromEl.open()"
          )
          mat-datepicker(#dateFromEl)
    
          input(matInput, type="text", 
            (dateChange)="form.get('dateTo').setValue(toDateISO($event.value)+'')",
            [matDatepicker]="dateToEl",
            [value]="form.get('dateTo').value",
            (click)="dateToEl.open()"
          )
          mat-datepicker(#dateToEl, [disabled]="false")

      .form-field
        label Sorting
        .sort
          input(id="playerFilterSortName", type="radio", formControlName="orderBy", value="name")
          label(for="playerFilterSortName") Name
  
          input(id="playerFilterSortTeam", type="radio", formControlName="orderBy", value="team")
          label(for="playerFilterSortTeam") Team
  
          input(id="playerFilterSortPosition", type="radio", formControlName="orderBy", value="position")
          label(for="playerFilterSortPosition") Position
  
          input(id="playerFilterSortCountry", type="radio", formControlName="orderBy", value="country")
          label(for="playerFilterSortCountry") Country

      .form-field
          label Age
          .age-tooltip(*ngIf="form.get('age').value") {{ form.get('age').value[0] }} — {{ form.get('age').value[1] }}
          
          nouislider([connect]="true", [min]="15", [max]="48", [step]="1", [formControl]="form.get('age')")

      .form-field
        label Team
        .input-box
          input(type="text", formControlName="teamId")
          .clear(*ngIf="form.get('teamId').value", (click)="form.get('teamId').reset()") × 


      .form-field
        label Position
        .input-box
          input(type="text", formControlName="positionId")
          .clear(*ngIf="form.get('positionId').value", (click)="form.get('positionId').reset()") × 

      .form-field
        label Nationality
        .input-box
          input(type="text", formControlName="nationalityId")
          .clear(*ngIf="form.get('nationalityId').value", (click)="form.get('nationalityId').reset()") ×


      .form-field
        button(type="submit", [disabled]="isLoading || form.invalid", mat-stroked-button, color="primary") Show players
      

  mat-sidenav-content
    //mat-accordion
    //  button(mat-icon-button, (click)="filter.toggle()")
    //    mat-icon menu
    //  form([formGroup]="form", (ngSubmit)="submit()")
    //    mat-expansion-panel([expanded]="isFilterActive", (opened)="isFilterActive = true", (closed)="isFilterActive = false")
    //      mat-expansion-panel-header
    //        mat-panel-title Players filter
    //
    //      mat-form-field
    //        input(matInput, type="text", placeholder="Date from",
    //        (dateChange)="form.get('dateFrom').setValue(toDateISO($event.value)+'')",
    //        [matDatepicker]="dateFromEl",
    //        [value]="form.get('dateFrom').value"
    //        )
    //        mat-datepicker-toggle(matSuffix, [for]="dateFromEl")
    //        mat-datepicker(#dateFromEl)
    //
    //      mat-form-field
    //        input(matInput, type="text", placeholder="Date to",
    //        (dateChange)="form.get('dateTo').setValue(toDateISO($event.value)+'')",
    //        [matDatepicker]="dateToEl",
    //        [value]="form.get('dateTo').value"
    //        )
    //        mat-datepicker-toggle(matSuffix, [for]="dateToEl")
    //        mat-datepicker(#dateToEl, [disabled]="false")
    //
    //      br
    //
    //      mat-form-field
    //        input(matInput, type="text", formControlName="leagueId", placeholder="League id")
    //
    //      mat-form-field
    //        input(matInput, type="text", formControlName="teamId", placeholder="Team id")
    //
    //      br
    //      mat-form-field
    //        input(matInput, type="text", formControlName="minGoals", placeholder="Min goals")
    //
    //      mat-form-field
    //        input(matInput, type="text", formControlName="maxGoals", placeholder="Max goals")
    //      br
    //
    //      mat-form-field.short
    //        input(matInput, type="text", formControlName="minCards", placeholder="Min cards")
    //
    //      mat-form-field.short
    //        input(matInput, type="text", formControlName="maxCards", placeholder="Max cards")
    //
    //
    //      mat-form-field.short
    //        mat-select(placeholder="Card type", formControlName="cardsType")
    //          mat-option([value]="0") Yellow
    //          mat-option([value]="1") Red
    //          mat-option([value]="2") Both
    //
    //      br
    //      mat-form-field
    //        input(matInput, type="text", formControlName="minPlayTime", placeholder="Min play time")
    //
    //      mat-form-field
    //        input(matInput, type="text", formControlName="maxPlayTime", placeholder="Max play time")
    //
    //      br
    //      button(type="submit", [disabled]="isLoading || form.invalid", mat-stroked-button, color="primary") Show players
    //  //mat-select(formControlName="orderDirection")
    //  //  mat-option ASC
    //  //  mat-option DESC
    //  //mat-form-field
    //  //  input(matInput,formControlName="orderBy", placeholder="Order by")
      
    router-outlet(*ngIf="!isLoading")